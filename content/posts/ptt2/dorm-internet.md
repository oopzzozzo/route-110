+++
title = '宿網'
date = 2020-02-29T04:52:10+08:00
draft = false
lastmod = 2020-02-29T04:52:10+08:00
categories = ['日常']
tags = ['軟體', '批兔']
+++
終於又有宿舍住啦！換房間沒換 IP。<br>
<br>
前天拿出我以前在宿舍用的樹莓派 NAT，弄超久到現在還沒設定好。<br>
這才學到，原來我這種 IT 白痴，才是真正該寫技術筆記的人。<br>
不然下次要用到就忘記怎麼弄了。<br>
<br>
這篇先放我的台大宿網使用記，等我弄好後樹莓派後再寫一篇我這兩天做的蠢事。<br>
<br>
大一開學時，大一女每間寢室房門內都貼有網路設定教學（一張陳年護貝紙）。<br>
大概就是：插上網路線 -> 連 140.112.2.197 -> 登入 NTU -> 按確定 -> 等 10 mins。<br>
這是為了綁定 學號-IP-MAC 1-1-1 的關係，操作還算簡單。<br>
去自習室時用別的孔也可以正常連線，唯一雷點是大一女A、B 兩棟分別是獨立網域。<br>
<br>
大一下我開始用 Ubuntu，但因為是同一張網卡，所以沒有遇到任何問題。<br>
<br>
大二上我搬到女五舍，通靈（背）出 140.112.2.197，順利完成設定，還幫了室友一把。<br>
但明明是有線網路，每次連上網的過程卻要很久，原來是 DHCP 很慢。<br>
我設定有線網卡用 static IP 之後，問題就解決了，當時用的 DNS 是 8.8.8.8。<br>
<br>
大二下（或三上）我換新筆電，它沒有 RJ45，於是從家裡拿了個廢廢的 bridge 去用。<br>
接出無線訊號後，當然會希望手機也可以順便用。（宿舍基本上收不到 ntu_peap）<br>
但因為只是 bridge，所以宿舍會看到我兩個裝置是不同 MAC，不能同時使用。<br>
當時有想讓筆電偽裝手機的 MAC，這樣至少可以輪流用，不用重設，最後卻沒成功。<br>
<br>
大三上我剛好有一張參加黑客松送的樹莓派，於是它就變成了我房間的 NAT，<br>
現在回推當時的設定步驟，應該是<br>
1. 灌好樹莓派，設定開放 ssh、自動連上手機基地台，取得數莓派 MAC。<br>
2. 樹莓派插上網路線。<br>
3. 用手機網路或是幾乎不存在的 ntu_peap 連 140.112.2.197， 設定成樹莓派的 MAC。<br>
4. 用手機網路 ssh 我的 140.112.225.211 樹莓派，裝 dhcp、hostapd，弄些設定。<br>
5. 很神奇的就可以用了。此後每次在宿舍更新樹莓派網路相關套件都很緊張。<br>
6. 開始賦與樹莓派其他任務，像是每天幫我登入 ptt 之類的。<br>

雖然有了固定 IP 與機器，但有個明顯的缺點：樹莓派的網速有個 20M/s 上限。<br>
反正我平常沒有打什麼電動，就這麼過完了常在床上滑手機的大三。<br>
<br>
--<br>
※ 發信站: 批踢踢兔(ptt2.cc), 來自: xxx.xxx.xxx.xxx (臺灣)<br>
