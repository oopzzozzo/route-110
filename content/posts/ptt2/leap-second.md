+++
title = '閏秒'
date = 2021-01-02T23:59:36+08:00
draft = false
lastmod = 2021-01-02T23:59:36+08:00
categories = ['心得']
tags = ['批兔']
+++
前些日子研究了一下日光節約時間，這個讓有些人一天可以超過 24 小時的詭異制度。<br>
當時覺得還是 timestamp 好，要解決的問題只有範圍不夠大而已，起碼時間是準的。<br>
<br>
殊不知有關 posix timestamp 的定義，大多只提：Seconds since the Epoch.<br>
而忽略了：leap seconds are ignored<br>
從 1970 年起，UTC 已經閏了 26 秒了<br>

### 閏秒糟糕之處 
在閏秒期間，時鐘的行為應如前秒。以 2016 年底所加閏秒為例，<br>
現實： 12-31 23:59:59 -> 12-31 23:59:60 -> 01-01 00:00:00<br>
電腦： 12-31 23:59:59 -> 12-31 23:59:59 -> 01-01 00:00:00<br>
看起來問題不大，但若我們提升一下時間的精度：<br>
現實： 23:59:59.0 -> 23:59:59.5 -> 23:59:60.0 -> 23:59:60.5 -> 00:00:00<br>
電腦： 23:59:59.0 -> 23:59:59.5 **->** 23:59:59.0 -> 23:59:59.5 -> 00:00:00<br>
怕了吧！時間不是單調遞增的！要是 time.deltaTime() 是無號的話…<br>
<br>
### 世界時間標準 
TAI：400 臺銫原子鐘之加權平均時間，以 1972 年 1 月 1 日午夜起算。<br>
UT1：子午線上之太陽時間，以 IAU 所訂 ICRF（1998 至今已翻了三版）為量測標準<br>
UT1R/UT2...：用某些公式將 UT1 平滑化。<br>
UTC：使用 TAI 之秒長，然於半年底時動態增減秒，以維持與 UT1 時差 < 0.9 秒<br>
GMT：格林威治天文台報出來的時間，地位已被 UTC 取代，標準也曾數次改動。<br>
<br>
### 1 秒的距離 
1 秒的誤差真的值得我們去弄一個閏秒系統嗎？<br>
量測上確實有需要。至於人體應該是感覺不出來啦。<br>
1 秒相當於地球 1/86400 圈，於赤道便是約 464 公尺，於台北約 420 公尺。<br>
要是有高中生上學是往東去 4.2 公里，他家跟學校就有 10 秒鐘的時差。<br>

### 神奇報時 
假設聲速每秒 340 公尺，在緯度 43 度左右，時間差跟聲音傳遞速度相當。<br>
在這條緯線上，若有一報時機，那線上靠近它西邊的人，聽到的報時剛好也是準的。<br>
緯度高於 43 度的地方，則可以對西邊大喊：「你那邊看日出還來得及！」<br>
<br>
--<br>
※ 發信站: 批踢踢兔(ptt2.cc), 來自: xxx.xxx.xxx.xxx (臺灣)<br>
